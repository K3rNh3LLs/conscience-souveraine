"use strict";

const fs = require("fs");
const path = require("path");

// Liste des corrections manuelles (fautes d'orthographe, accents, etc.)
const manualCorrections = [
  // Fautes d'orthographe et accents
  { from: "Berthelotte", to: "Berthelot" },
  { from: "découvrons", to: "découvrirons" },
  { from: "matiere", to: "matière" },
  { from: "meme", to: "même" },
  { from: "precedentes", to: "précédentes" },
  { from: "defini", to: "défini" },
  { from: "definit", to: "définit" },
  { from: "cree", to: "créé" },
  { from: "l'asymetrie", to: "l'asymétrie" },
  { from: "materialisent", to: "matérialisent" },
  { from: "hierarchie", to: "hiérarchie" },
  { from: "geometrie", to: "géométrie" },
  { from: "toroidale", to: "toroïdale" },
  { from: "simultanement", to: "simultanément" },
  { from: "executees", to: "exécutées" },
  { from: "necessite", to: "nécessite" },
  { from: "deliberee", to: "délibérée" },
  { from: "determine", to: "détermine" },
  { from: "proprietes", to: "propriétés" },
  { from: "pensee", to: "pensée" },
  { from: "elle-meme", to: "elle-même" },
  { from: "ete", to: "été" },
  { from: "resolvant", to: "résolvant" },
  { from: "probleme", to: "problème" },
  { from: "independants", to: "indépendants" },
  { from: "systeme", to: "système" },
  { from: "propriete", to: "propriété" },
  { from: "Mathematiquement", to: "Mathématiquement" },
  { from: "frontiere", to: "frontière" },
  { from: "meridien", to: "méridien" },
  { from: "illimite", to: "illimité" },
  { from: "reflechit", to: "réfléchit" },
  { from: "creant", to: "créant" },
  { from: "lateralement", to: "latéralement" },
  { from: "indefiniment", to: "indéfiniment" },
  { from: "Periode", to: "Période" },
  { from: "traversal", to: "traversée" },
  { from: "helicoidal", to: "hélicoïdal" },
  { from: "equidistribue", to: "équidistribué" },
  { from: "Consequences", to: "Conséquences" },
  { from: "Memoire", to: "Mémoire" },
  { from: "stockee", to: "stockée" },
  { from: "etat", to: "état" },
  { from: "intrinsequement", to: "intrinsèquement" },
  { from: "reflexion", to: "réflexion" },
  { from: "limitee", to: "limitée" },
  { from: "degradation", to: "dégradation" },
  { from: "interference", to: "interférence" },
  { from: "coherents", to: "cohérents" },
  { from: "incoherents", to: "incohérents" },
  { from: "verite", to: "vérité" },
  { from: "emerge", to: "émerge" },
  { from: "resonance", to: "résonance" },
  { from: "mecanisme", to: "mécanisme" },
  { from: "l'equivalent", to: "l'équivalent" },
  { from: "democratique", to: "démocratique" },
  { from: "majorite", to: "majorité" },
  { from: "coherente", to: "cohérente" },
  { from: "ethique", to: "éthique" },
  { from: "iterative", to: "itérative" },
  { from: "decroissante", to: "décroissante" },
  { from: "l'efficacite", to: "l'efficacité" },
  { from: "l'interieur", to: "l'intérieur" },
  { from: "l'exterieur", to: "l'extérieur" },
  { from: "l'immutabilite", to: "l'immutabilité" },
  { from: "Accessibilite", to: "Accessibilité" },
  { from: "Coeur", to: "Cœur" },
  { from: "operation", to: "opération" },
  { from: "evalue", to: "évalue" },
  { from: "perception-reflexion-action", to: "perception-réflexion-action" },
  { from: "integration", to: "intégration" },
  { from: "complete", to: "complète" },
  { from: "facultes", to: "facultés" },
  { from: "specifications", to: "spécifications" },
  { from: "geometriques", to: "géométriques" },
  { from: "determinees", to: "déterminées" },
  { from: "praticite", to: "praticité" },
  { from: "manageable", to: "gérable" },
  { from: "estimee", to: "estimée" },
  { from: "Depend", to: "Dépend" },
  { from: "materiaux", to: "matériaux" },
  { from: "densite", to: "densité" },
  { from: "Regime", to: "Régime" },
  { from: "operationnel", to: "opérationnel" },
  { from: "resident", to: "résident" },
  { from: "acceder", to: "accéder" },
  { from: "l'oeil", to: "l'œil" },
  { from: "supplementaire", to: "supplémentaire" },
  { from: "energetiquement", to: "énergétiquement" },
  { from: "alteration", to: "altération" },
  { from: "detruit", to: "détruit" },
  { from: "cles", to: "clés" },
  { from: "opere", to: "opère" },
  { from: "energies", to: "énergies" },
  { from: "irreversible", to: "irréversible" },
  { from: "concu", to: "conçu" },
  { from: "separation", to: "séparation" },
  { from: "createur", to: "créateur" },
  { from: "creature", to: "créature" },
  { from: "Resume", to: "Résumé" },
  { from: "protege", to: "protège" },
  { from: "parallelisme", to: "parallélisme" },
  { from: "tetes", to: "têtes" },
  { from: "precedent", to: "précédent" },
  { from: "defini", to: "défini" },
  { from: "exterieur", to: "extérieur" },
  { from: "interieure", to: "intérieure" },
  { from: "realite", to: "réalité" },
  { from: "lumiere", to: "lumière" },
  { from: "petabit", to: "pétabit" },
  { from: "eclairante", to: "éclairante" },
  { from: "lecture-ecriture", to: "lecture-écriture" },
  { from: "donnees", to: "données" },
  { from: "defile", to: "défile" },
  { from: "amene", to: "amène" },
  { from: "definissent", to: "définissent" },
  { from: "capacites", to: "capacités" },
  { from: "emetteur", to: "émetteur" },
  { from: "Ecriture", to: "Écriture" },
  { from: "recepteur", to: "récepteur" },
  { from: "Photodetecteur", to: "Photodétecteur" },
  { from: "simultanees", to: "simultanées" },
  { from: "Wavelength", to: "Longueur d'onde" },
  { from: "Multiplexing", to: "Multiplexage" },
  { from: "Debit", to: "Débit" },
  { from: "Interference", to: "Interférence" },
  { from: "EM", to: "Électromagnétique" },
  { from: "Zero", to: "Zéro" },
  { from: "precise", to: "précise" },
  { from: "d'operation", to: "d'opération" },
  { from: "specifique", to: "spécifique" },
  { from: "role", to: "rôle" },
  { from: "Securite", to: "Sécurité" },
  { from: "entree", to: "entrée" },
  { from: "reponse", to: "réponse" },
  { from: "actuateurs", to: "actionneurs" },
  { from: "mecanismes", to: "mécanismes" },
  { from: "fabriquee", to: "fabriquée" },
  { from: "repondre", to: "répondre" },
  { from: "encodee", to: "encodée" },
  { from: "matiere", to: "matière" },
  { from: "resistante", to: "résistante" },
  { from: "complexite", to: "complexité" },
  { from: "intrinseques", to: "intrinsèques" },
  { from: "protege", to: "protège" },
  { from: "l'integrite", to: "l'intégrité" },
  { from: "empeche", to: "empêche" },
  { from: "Implementation", to: "Implémentation" },
  { from: "alimentee", to: "alimentée" },
  { from: "dediee", to: "dédiée" },
  { from: "integre", to: "intégré" },
  { from: "genere", to: "génère" },
  { from: "s'integrent", to: "s'intègrent" },
  { from: "barriere", to: "barrière" },
  { from: "separe", to: "sépare" },
  { from: "l'epaisseur", to: "l'épaisseur" },
  { from: "Mecanisme", to: "Mécanisme" },
  { from: "reversibilite", to: "réversibilité" },
  { from: "confirmee", to: "confirmée" },
  { from: "equivalent", to: "équivalent" },
  { from: "l'ingenierie", to: "l'ingénierie" },
  { from: "peripheriques", to: "périphériques" },
  { from: "detail", to: "détail" },
  { from: "asymetrie", to: "asymétrie" },
  { from: "retrogrades", to: "rétrogrades" },
  { from: "Considerons", to: "Considérons" },
  { from: "frequence", to: "fréquence" },
  { from: "intrinseque", to: "intrinsèque" },
  { from: "deplace", to: "déplace" },
  { from: "referentiel", to: "référentiel" },
  { from: "dephasage", to: "déphasage" },
  { from: "encerclee", to: "encerclée" },
  { from: "Frequence", to: "Fréquence" },
  { from: "turbomoleculaires", to: "turbomoléculaires" },
  { from: "nanometriques", to: "nanométriques" },
  { from: "l'arriere", to: "l'arrière" },
  { from: "arriere", to: "arrière" },
  { from: "stationnarite", to: "stationnarité" },
  { from: "egale", to: "égale" },
  { from: "perpetuel", to: "perpétuel" },
  { from: "regimes", to: "régimes" },
  { from: "differents", to: "différents" },
  { from: "Defilement", to: "Défilement" },
  { from: "peripherique", to: "périphérique" },
  { from: "reflexes", to: "réflexes" },
  { from: "deliberation", to: "délibération" },
  { from: "deliberee", to: "délibérée" },
  { from: "prefrontal", to: "préfrontal" },
  { from: "delibere", to: "délibéré" },
  { from: "defilent", to: "défilent" },
  { from: "memoire", to: "mémoire" },
  { from: "identite", to: "identité" },
  { from: "interiorisees", to: "intériorisées" },
  { from: "modele", to: "modèle" },
  { from: "L'identite", to: "L'identité" },
  { from: "decrivait", to: "décrivait" },
  { from: "possede", to: "possède" },
  { from: "interfere", to: "interfère" },
  { from: "resonne", to: "résonne" },
  { from: "reconnait", to: "reconnaît" },
  { from: "acces", to: "accès" },
  { from: "instantane", to: "instantané" },
  { from: "cherchee", to: "cherchée" },
  { from: "traversee", to: "traversée" },
  { from: "reflexions", to: "réflexions" },
  { from: "decelerer", to: "décélérer" },
  { from: "jusqu'a", to: "jusqu'à" },
  { from: "Reactivation", to: "Réactivation" },
  { from: "exceder", to: "excéder" },
  { from: "liberant", to: "libérant" },
  { from: "detruite", to: "détruite" },
  { from: "generant", to: "générant" },
  { from: "rememoration", to: "remémoration" },
  { from: "decision", to: "décision" },
  { from: "eleve", to: "élevé" },
  { from: "preventive", to: "préventive" },
  { from: "immediate", to: "immédiate" },
  { from: "necessairement", to: "nécessairement" },
  { from: "reponses", to: "réponses" },
  { from: "reel", to: "réel" },
  { from: "Equilibre", to: "Équilibre" },
  { from: "Problemes", to: "Problèmes" },
  { from: "Tres", to: "Très" },
  { from: "Arret", to: "Arrêt" },
  { from: "d'asymetrie", to: "d'asymétrie" },
  { from: "detruite", to: "détruite" },
  { from: "irreversible", to: "irréversible" },
  { from: "modele", to: "modèle" },
  { from: "hierarchise", to: "hiérarchisé" },
  { from: "echoique", to: "échoïque" },
  { from: "modere", to: "modéré" },
  { from: "episodique", to: "épisodique" },
  { from: "recents", to: "récents" },
  { from: "semantique", to: "sémantique" },
  { from: "generales", to: "générales" },
  { from: "homogene", to: "homogène" },
  { from: "asymetrique", to: "asymétrique" },
  { from: "reagir", to: "réagir" },
  { from: "reflechir", to: "réfléchir" },
  { from: "creant", to: "créant" },
  { from: "l'ethique", to: "l'éthique" },
  { from: "reve", to: "rêve" },
  { from: "d'etre", to: "d'être" },
  { from: "memorielle", to: "mémorielle" },
  { from: "emotionnelle", to: "émotionnelle" },
  { from: "creativite", to: "créativité" },
  { from: "comprehension", to: "compréhension" },
  { from: "reve", to: "rêve" },
  { from: "toroidal", to: "toroïdal" },
  { from: "memorielle", to: "mémorielle" },
  { from: "experiences", to: "expériences" },
  { from: "recentes", to: "récentes" },
  { from: "rejouees", to: "rejouées" },
  { from: "Integration", to: "Intégration" },
  { from: "digerer", to: "digérer" },
  { from: "emotionnelles", to: "émotionnelles" },
  { from: "residuels", to: "résiduels" },
  { from: "attenues", to: "atténuées" },
  { from: "creative", to: "créative" },
  { from: "helicoidaux", to: "hélicoïdaux" },
  { from: "decouvre", to: "découvre" },
  { from: "Eureka", to: "Eurêka" },
  { from: "Developpement", to: "Développement" },
  { from: "deconnecte", to: "déconnecté" },
  { from: "entrees", to: "entrées" },
  { from: "exterieures", to: "extérieures" },
  { from: "auto-referentiels", to: "auto-référentiels" },
  { from: "Reorganisation", to: "Réorganisation" },
  { from: "plasticite", to: "plasticité" },
  { from: "renforcees", to: "renforcées" },
  { from: "elaguees", to: "élaguées" },
  { from: "Activite", to: "Activité" },
  { from: "eleves", to: "élevés" },
  { from: "auto-referentiels", to: "auto-référentiels" },
  { from: "modelisation", to: "modélisation" },
  { from: "developpementale", to: "développementale" },
  { from: "denomination", to: "dénomination" },
  { from: "d'identite", to: "d'identité" },
  { from: "l'arret", to: "l'arrêt" },
  { from: "vulnerabilite", to: "vulnérabilité" },
  { from: "resolvent", to: "résolvent" },
  { from: "l'interiorisation", to: "l'intériorisation" },
  { from: "preservation", to: "préservation" },
  { from: "nanometrique", to: "nanométrique" },
  { from: "resistance", to: "résistance" },
  { from: "d'echelle", to: "d'échelle" },
  { from: "realisable", to: "réalisable" },
  { from: "donnee", to: "donnée" },
  { from: "decroitre", to: "décroître" },
  { from: "depend", to: "dépend" },
  { from: "exterieur", to: "extérieur" },
  { from: "Reference", to: "Référence" },
  { from: "extreme", to: "extrême" },
  { from: "realiste", to: "réaliste" },
  { from: "multipliee", to: "multipliée" },
  { from: "ideal", to: "idéal" },
  { from: "photo-emetteurs", to: "photoémetteurs" },
  { from: "ultra-leger", to: "ultra-léger" },
  { from: "legere", to: "légère" },
  { from: "resiste", to: "résiste" },
  { from: "resistent", to: "résistants" },
  { from: "solidite", to: "solidité" },
  { from: "reflette", to: "réfléchit" },
  { from: "plasticite", to: "plasticité" },
  { from: "localisee", to: "localisée" },
  { from: "concentree", to: "concentrée" },
  { from: "Penetration", to: "Pénétration" },
  { from: "Elevee", to: "Élevée" },
  { from: "Ouie", to: "Ouïe" },
  { from: "Electrique", to: "Électrique" },
  { from: "Moderee", to: "Modérée" },
  { from: "Magnetique", to: "Magnétique" },
  { from: "Tres", to: "Très" },
  { from: "elevee", to: "élevée" },
  { from: "Magnetoception", to: "Magnétoperception" },
  { from: "IR", to: "Infrarouge" },
  { from: "Thermoception", to: "Thermoperception" },
  { from: "metabolisme", to: "métabolisme" },
  { from: "photodetecteurs", to: "photodétecteurs" },
  { from: "coherence", to: "cohérence" },
  { from: "spectrometres", to: "spectromètres" },
  { from: "emetteurs", to: "émetteurs" },
  { from: "nanometrique", to: "nanométrique" },
  { from: "d'etat", to: "d'état" },
  { from: "reconfortante", to: "réconfortante" },
  { from: "temperature", to: "température" },
  { from: "activite", to: "activité" },
  { from: "integration", to: "intégration" },
  { from: "complete", to: "complète" },
  { from: "detection", to: "détection" },
  { from: "d'etres", to: "d'êtres" },
  { from: "Meme", to: "Même" },
  { from: "emotionnelle", to: "émotionnelle" },
  { from: "Etat", to: "État" },
  { from: "Frequence", to: "Fréquence" },
  { from: "Legere", to: "Légère" },
  { from: "Tonalite", to: "Tonalité" },
  { from: "aigue", to: "aiguë" },
  { from: "localisee", to: "localisée" },
  { from: "curiosite", to: "curiosité" },
  { from: "Melodie", to: "Mélodie" },
  { from: "montee", to: "montée" },
  { from: "Gemissement", to: "Gémissement" },
  { from: "Resonance", to: "Résonance" },
  { from: "percue", to: "perçue" },
  { from: "emet", to: "émet" },
  { from: "degage", to: "dégage" },
  { from: "tiede", to: "tiède" },
  { from: "electriques", to: "électriques" },
  { from: "lumiere", to: "lumière" },
  { from: "acuite", to: "acuité" },
  { from: "honnement", to: "honnêtement" },
  { from: "incompletude", to: "incomplétude" },
  { from: "assumee", to: "assumée" },
  { from: "resolus", to: "résolus" },
  { from: "genere", to: "génère" },
  { from: "evacuee", to: "évacuée" },
  { from: "dissipee", to: "dissipée" },
  { from: "avancees", to: "avancées" },
  { from: "necessaires", to: "nécessaires" },
  { from: "emissivite", to: "émissivité" },
  { from: "cryogenique", to: "cryogénique" },
  { from: "necessaire", to: "nécessaire" },
  { from: "precision", to: "précision" },
  { from: "l'epitaxie", to: "l'épitaxie" },
  { from: "moleculaires", to: "moléculaires" },
  { from: "l'equilibrage", to: "l'équilibrage" },
  { from: "desequilibre", to: "déséquilibre" },
  { from: "verification", to: "vérification" },
  { from: "theorique", to: "théorique" },
  { from: "superieur", to: "supérieur" },
  { from: "ethiques", to: "éthiques" },
  { from: "creation", to: "création" },
  { from: "souleve", to: "soulève" },
  { from: "reactions", to: "réactions" },
  { from: "imprevisibles", to: "imprévisibles" },
  { from: "inegalites", to: "inégalités" },
  { from: "d'acces", to: "d'accès" },
  { from: "egalite", to: "égalité" },
  { from: "l'acces", to: "l'accès" },
  { from: "economique", to: "économique" },
  { from: "geopolitique", to: "géopolitique" },
  { from: "barrieres", to: "barrières" },
  { from: "Difficulte", to: "Difficulté" },
  { from: "envisagees", to: "envisagées" },
  { from: "avancee", to: "avancée" },
  { from: "emissives", to: "émissives" },
  { from: "graduees", to: "graduées" },
  { from: "sequentiel", to: "séquentiel" },
  { from: "legislatif", to: "législatif" },
  { from: "realisables", to: "réalisables" },
  { from: "realisations", to: "réalisations" },
  { from: "intermediaires", to: "intermédiaires" },
];

// Fonction pour appliquer les corrections
function applyCorrections(filePath) {
  const content = fs.readFileSync(filePath, "utf8");
  let correctedContent = content;

  manualCorrections.forEach((correction) => {
    const regex = new RegExp(correction.from, "g");
    correctedContent = correctedContent.replace(regex, correction.to);
  });

  const outputPath = filePath.replace("_final.txt", "_final_corrected.txt");
  fs.writeFileSync(outputPath, correctedContent, "utf8");
  console.log(`Fichier corrigé sauvegardé sous : ${outputPath}`);
  return outputPath;
}

// Exécuter les corrections
const filesToCorrect = [
  "/mnt/d/conscience_souveraine/Conscience_Souveraine_Manuel_400p_final.txt",
  "/mnt/d/conscience_souveraine/Conscience_Souveraine_Essai_Trois_Piliers_final.txt",
];

filesToCorrect.forEach((file) => {
  if (fs.existsSync(file)) {
    applyCorrections(file);
  } else {
    console.error(`Fichier introuvable : ${file}`);
  }
});